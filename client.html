<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="{{ static_url("css/reveal.min.css") }}" />
	<link rel="stylesheet" href="{{ static_url("css/theme/default.css") }}" id="theme" />
</head>
<!-- Presentation wrapper -->
	<div class="reveal">
		<!-- Slides -->
		<div class="slides">
			<section>
				<h1> My huge dick </h1>
				<p> My fucking product discussed here </p>
			</section>

			<section id="show-a-link">
				<h1> Slide 2 </h1>
				<p> I love talking baout my dick yoy know, it's always fucking amazing ! </p>
				<a href="http://www.bite.com" class="roll"> Test de lien </a>
			</section>
		</div>
	</div>

	<!-- Reveal Scripts -->
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
  	<script src="//cdnjs.cloudflare.com/ajax/libs/sockjs-client/0.3.4/sockjs.min.js"></script>
	<script src="{{ static_url("library/js/head.min.js") }}"></script>
	<script src="{{ static_url("js/reveal.min.js") }}"></script>
  	<script>
    $(function() {


	  // SockJS connection
      var conn = null;
	  
	  // RevealJs initialization.
	  Reveal.initialize({
		history: true
	  });

      function connect() {
        disconnect();

        conn = new SockJS('https://' + window.location.host + '/presentation', 'websocket');

        conn.onopen = function(e) {
						console.log('Someone joined the presentation');
        };

        conn.onmessage = function(e) {
						// On recupere une string donc on la convertit en objet
						response = JSON.parse(e.data);
						Reveal.slide(response.indexh, response.indexv, response.indexf);
        };

        conn.onclose = function() {
          conn = null;
        };
      }

      function disconnect() {
        if (conn != null) {
          conn.close();
          conn = null;
        }
      }

		// Connect when user has loaded the page
		connect();		

	});
	</script>
</body>
</html>
